严格来说，这道题代码里给的方法是记忆化搜索，不是dp，但还是归在dp类里，首先是树的遍历，中序是左根右的顺序，前序是根左右的顺序。
然后是求值，把特殊的情况考虑后(无左右子树，或者是根节点)，就是求一段区间里的值，依次假设每个节点是根，最后取值最大的节点为这个区间的根。
在求值结束后，我们就已经得到了每个区间的根，输出的时候按照根左右的顺序输出即可。